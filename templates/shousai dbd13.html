<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DBD-13 評価フォーム</title>
  <link rel="stylesheet" href="../static/css/dasc_21.css">
  <style>
    /* ラジオボタン拡大と縦位置調整 */
    .score-radio {
      transform: scale(1.8);
      margin: 5px;
      vertical-align: middle;
    }

    /* 備考欄の高さ統一 */
    textarea.remarks {
      height: 50px;
    }
  </style>
</head>
<body>
  <main>
    <form id="dbdForm">
      <!-- タイトル -->
      <div class="form-title">
        <h1>DBD-13</h1>
      </div>

      <!-- 基本情報 -->
      <section class="info-section">
        <h1 class="section-title">基本情報</h1>
        <div class="info-grid">
          <div>
            <label>ご本人の氏名：</label>
            <input type="text" name="name">
          </div>
          <div>
            <label>生年月日：</label>
            <input type="text" placeholder="年" size="4"> 年
            <input type="text" placeholder="月" size="2"> 月
            <input type="text" placeholder="日" size="2"> 日
            <input type="text" placeholder="年齢" size="2"> 歳
          </div>
          <div>
            <label>性別：</label>
            <label><input type="radio" name="gender" value="男"> 男</label>
            <label><input type="radio" name="gender" value="女"> 女</label>
          </div>
          <div>
            <label>情報提供者氏名：</label>
            <input type="text" name="provider">
          </div>
          <div>
            <label>本人との続柄：</label>
            <input type="text" name="relation">
          </div>
          <div>
            <label>記入者氏名：</label>
            <input type="text" name="writer">
          </div>
        </div>
      </section>

      <!-- 評価項目 -->
      <section class="assessment-section">
        <h1 class="section-title">評価項目</h1>
        <table class="dasc-table">
          <thead>
            <tr>
              <th>No</th>
              <th>質問項目</th>
              <th>1点</th>
              <th>2点</th>
              <th>3点</th>
              <th>4点</th>
              <th>評価項目</th>
              <th>備考</th>
            </tr>
          </thead>
          <tbody>
            <!-- ここにDBD-13の13項目を挿入 -->
            <tr>
              <td>1</td>
              <td>忘れ物が多いと感じますか</td>
              <td><input type="radio" name="q1" value="1" class="score-radio"></td>
              <td><input type="radio" name="q1" value="2" class="score-radio"></td>
              <td><input type="radio" name="q1" value="3" class="score-radio"></td>
              <td><input type="radio" name="q1" value="4" class="score-radio"></td>
              <td>記憶</td>
              <td><textarea class="remarks"></textarea></td>
            </tr>
            <tr>
              <td>2</td>
              <td>同じことを何度も言うことがありますか</td>
              <td><input type="radio" name="q2" value="1" class="score-radio"></td>
              <td><input type="radio" name="q2" value="2" class="score-radio"></td>
              <td><input type="radio" name="q2" value="3" class="score-radio"></td>
              <td><input type="radio" name="q2" value="4" class="score-radio"></td>
              <td>記憶</td>
              <td><textarea class="remarks"></textarea></td>
            </tr>
           <tr>
              <td>2</td>
              <td>よく物をなくしたり、置場所を間違えたり、隠したりしている</td>
              <td><input type="radio" name="q2" value="0" class="score-radio"></td>
              <td><input type="radio" name="q2" value="1" class="score-radio"></td>
              <td><input type="radio" name="q2" value="2" class="score-radio"></td>
              <td><input type="radio" name="q2" value="3" class="score-radio"></td>
              <td><input type="radio" name="q2" value="4" class="score-radio"></td>
              <td><textarea class="remarks"></textarea></td>
            </tr>

            <tr>
              <td>3</td>
              <td>日常的な物事に関心を示さない</td>
              <td><input type="radio" name="q3" value="0" class="score-radio"></td>
              <td><input type="radio" name="q3" value="1" class="score-radio"></td>
              <td><input type="radio" name="q3" value="2" class="score-radio"></td>
              <td><input type="radio" name="q3" value="3" class="score-radio"></td>
              <td><input type="radio" name="q3" value="4" class="score-radio"></td>
              <td><textarea class="remarks"></textarea></td>
            </tr>

            <tr>
              <td>4</td>
              <td>特別な理由がないのに夜中起き出す</td>
              <td><input type="radio" name="q4" value="0" class="score-radio"></td>
              <td><input type="radio" name="q4" value="1" class="score-radio"></td>
              <td><input type="radio" name="q4" value="2" class="score-radio"></td>
              <td><input type="radio" name="q4" value="3" class="score-radio"></td>
              <td><input type="radio" name="q4" value="4" class="score-radio"></td>
              <td><textarea class="remarks"></textarea></td>
            </tr>

            <tr>
              <td>5</td>
              <td>特別な根拠もないのに人に言いがかりをつける</td>
              <td><input type="radio" name="q5" value="0" class="score-radio"></td>
              <td><input type="radio" name="q5" value="1" class="score-radio"></td>
              <td><input type="radio" name="q5" value="2" class="score-radio"></td>
              <td><input type="radio" name="q5" value="3" class="score-radio"></td>
              <td><input type="radio" name="q5" value="4" class="score-radio"></td>
              <td><textarea class="remarks"></textarea></td>
            </tr>

            <tr>
              <td>6</td>
              <td>昼間、寝てばかりいる</td>
              <td><input type="radio" name="q6" value="0" class="score-radio"></td>
              <td><input type="radio" name="q6" value="1" class="score-radio"></td>
              <td><input type="radio" name="q6" value="2" class="score-radio"></td>
              <td><input type="radio" name="q6" value="3" class="score-radio"></td>
              <td><input type="radio" name="q6" value="4" class="score-radio"></td>
              <td><textarea class="remarks"></textarea></td>
            </tr>

            <tr>
              <td>7</td>
              <td>やたらに歩き回る</td>
              <td><input type="radio" name="q7" value="0" class="score-radio"></td>
              <td><input type="radio" name="q7" value="1" class="score-radio"></td>
              <td><input type="radio" name="q7" value="2" class="score-radio"></td>
              <td><input type="radio" name="q7" value="3" class="score-radio"></td>
              <td><input type="radio" name="q7" value="4" class="score-radio"></td>
              <td><textarea class="remarks"></textarea></td>
            </tr>

            <tr>
              <td>8</td>
              <td>同じ動作をいつまでも繰り返す</td>
              <td><input type="radio" name="q8" value="0" class="score-radio"></td>
              <td><input type="radio" name="q8" value="1" class="score-radio"></td>
              <td><input type="radio" name="q8" value="2" class="score-radio"></td>
              <td><input type="radio" name="q8" value="3" class="score-radio"></td>
              <td><input type="radio" name="q8" value="4" class="score-radio"></td>
              <td><textarea class="remarks"></textarea></td>
            </tr>

            <tr>
              <td>9</td>
              <td>口汚くののしる</td>
              <td><input type="radio" name="q9" value="0" class="score-radio"></td>
              <td><input type="radio" name="q9" value="1" class="score-radio"></td>
              <td><input type="radio" name="q9" value="2" class="score-radio"></td>
              <td><input type="radio" name="q9" value="3" class="score-radio"></td>
              <td><input type="radio" name="q9" value="4" class="score-radio"></td>
              <td><textarea class="remarks"></textarea></td>
            </tr>

            <tr>
              <td>10</td>
              <td>場違いあるいは季節に合わない不適切な服装をする</td>
              <td><input type="radio" name="q10" value="0" class="score-radio"></td>
              <td><input type="radio" name="q10" value="1" class="score-radio"></td>
              <td><input type="radio" name="q10" value="2" class="score-radio"></td>
              <td><input type="radio" name="q10" value="3" class="score-radio"></td>
              <td><input type="radio" name="q10" value="4" class="score-radio"></td>
              <td><textarea class="remarks"></textarea></td>
            </tr>

            <tr>
              <td>11</td>
              <td>世話されるのを拒否する</td>
              <td><input type="radio" name="q11" value="0" class="score-radio"></td>
              <td><input type="radio" name="q11" value="1" class="score-radio"></td>
              <td><input type="radio" name="q11" value="2" class="score-radio"></td>
              <td><input type="radio" name="q11" value="3" class="score-radio"></td>
              <td><input type="radio" name="q11" value="4" class="score-radio"></td>
              <td><textarea class="remarks"></textarea></td>
            </tr>

            <tr>
              <td>12</td>
              <td>明らかな理由なしに物を貯め込む</td>
              <td><input type="radio" name="q12" value="0" class="score-radio"></td>
              <td><input type="radio" name="q12" value="1" class="score-radio"></td>
              <td><input type="radio" name="q12" value="2" class="score-radio"></td>
              <td><input type="radio" name="q12" value="3" class="score-radio"></td>
              <td><input type="radio" name="q12" value="4" class="score-radio"></td>
              <td><textarea class="remarks"></textarea></td>
            </tr>

            <tr>
              <td>13</td>
              <td>引き出しやたんすの中身を全部だしてしまう</td>
              <td><input type="radio" name="q13" value="0" class="score-radio"></td>
              <td><input type="radio" name="q13" value="1" class="score-radio"></td>
              <td><input type="radio" name="q13" value="2" class="score-radio"></td>
              <td><input type="radio" name="q13" value="3" class="score-radio"></td>
              <td><input type="radio" name="q13" value="4" class="score-radio"></td>
              <td><textarea class="remarks"></textarea></td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- 結果表示 --> 
      <section class="result-section">
        <p><strong>評価結果：</strong>
          <span id="score">--</span> / 52 点</p>
        <p id="comment">まだ評価が実施されていません。</p>
      </section>

      <!-- ボタン -->
      <div class="button-area">
        <button type="button" onclick="calcScore()">結果を計算</button>
        <button type="button">保存</button>
        <button type="button" class="btn-row">Excelに出力</button>
      </div>
    </form>
  </main>

  <script>
    function calcScore() {
      let total = 0;
      let questions = document.querySelectorAll('input[type="radio"]:checked');
      questions.forEach(q => total += parseInt(q.value));
      document.getElementById("score").textContent = total;

      let comment = "";
      if (total <= 17) comment = "軽度認知症の可能性あり（観察と受診を推奨）";
      else if (total <= 35) comment = "中等度の認知機能低下がみられます";
      else comment = "日常生活に支障が生じている可能性があります";
      document.getElementById("comment").textContent = comment;
    }
  </script>
</body>
</html>
